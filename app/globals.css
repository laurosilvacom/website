@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@theme {
	--font-sans: 'Wotfard', sans-serif;
	--font-mono: 'commitMono';

	--background: 20 14.3% 5.1%;
	--foreground: 60 9.1% 97.8%;
	--card: 20 14.3% 4.1%;
	--card-foreground: 60 9.1% 97.8%;
	--popover: 20 14.3% 4.1%;
	--popover-foreground: 60 9.1% 97.8%;
	--primary: 47.9 95.8% 53.1%;
	--primary-foreground: 26 83.3% 14.1%;
	--secondary: 12 6.5% 15.1%;
	--secondary-foreground: 60 9.1% 97.8%;
	--muted: 12 6.5% 15.1%;
	--muted-foreground: 24 5.4% 63.9%;
	--accent: 12 6.5% 15.1%;
	--accent-foreground: 60 9.1% 97.8%;
	--destructive: 0 62.8% 30.6%;
	--destructive-foreground: 60 9.1% 97.8%;
	--border: 12 6.5% 15.1%;
	--input: 12 6.5% 15.1%;
	--ring: 47.9 95.8% 53.1%;
	--chart-1: 220 70% 50%;
	--chart-2: 160 60% 45%;
	--chart-3: 30 80% 55%;
	--chart-4: 280 65% 60%;
	--chart-5: 340 75% 55%;

	/* Exact GitHub syntax colors - Dark */
	--sh-boolean: #79c0ff;
	--sh-comment: #8b949e;
	--sh-constant: #79c0ff;
	--sh-constructor: #7ee787;
	--sh-keyword: #ff7b72;
	--sh-function: #d2a8ff;
	--sh-string: #a5d6ff;
	--sh-string-escape: #ff7b72;
	--sh-regexp: #a5d6ff;
	--sh-class: #7ee787;
	--sh-special: #a5d6ff;
	--sh-number: #79c0ff;
	--sh-variable: #ffa657;
	--sh-type: #79c0ff;
	--sh-property: #79c0ff;
	--sh-symbol: #a5d6ff;
	--sh-tag: #7ee787;
	--sh-emphasis: #e6edf3;
	--sh-emphasis-strong: #e6edf3;
	--sh-link-text: #a5d6ff;
	--sh-link-uri: #a5d6ff;
	--sh-title: #ffa657;
}

@media (prefers-color-scheme: light) {
	:root {
		--background: 0 0% 97%;
		--foreground: 20 14.3% 4.1%;
		--card: 0 0% 100%;
		--card-foreground: 20 14.3% 4.1%;
		--popover: 0 0% 100%;
		--popover-foreground: 20 14.3% 4.1%;
		--primary: 47.9 95.8% 53.1%;
		--primary-foreground: 26 83.3% 14.1%;
		--secondary: 60 4.8% 95.9%;
		--secondary-foreground: 24 9.8% 10%;
		--muted: 60 4.8% 95.9%;
		--muted-foreground: 25 5.3% 44.7%;
		--accent: 60 4.8% 95.9%;
		--accent-foreground: 24 9.8% 10%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 60 9.1% 97.8%;
		--border: 20 5.9% 90%;
		--input: 20 5.9% 90%;
		--ring: 47.9 95.8% 53.1%;
		--radius: 1rem;
		--chart-1: 12 76% 61%;
		--chart-2: 173 58% 39%;
		--chart-3: 197 37% 24%;
		--chart-4: 43 74% 66%;
		--chart-5: 27 87% 67%;

		--sh-boolean: #0550ae;
		--sh-comment: #6e7781;
		--sh-constant: #0550ae;
		--sh-constructor: #116329;
		--sh-keyword: #cf222e;
		--sh-function: #8250df;
		--sh-string: #0a3069;
		--sh-string-escape: #cf222e;
		--sh-regexp: #0a3069;
		--sh-class: #116329;
		--sh-special: #0a3069;
		--sh-number: #0550ae;
		--sh-variable: #953800;
		--sh-type: #0550ae;
		--sh-property: #0550ae;
		--sh-symbol: #0a3069;
		--sh-tag: #116329;
		--sh-emphasis: #24292f;
		--sh-emphasis-strong: #24292f;
		--sh-link-text: #0969da;
		--sh-link-uri: #0969da;
		--sh-title: #953800;
	}
}

/* Global Styles */
html {
	min-width: 360px;
	scrollbar-gutter: stable;
	font-size: 16px;
	background-color: hsl(var(--background));
	color: hsl(var(--foreground));
	font-family: var(--font-sans);
}

/* Update Selection Colors */
::selection {
	background-color: hsl(var(--primary));
	color: hsl(var(--primary-foreground));
}

/* Base Border Color */
*,
::after,
::before,
::backdrop,
::file-selector-button {
	border-color: hsl(var(--border));
}

/* Code Block Styling */
pre {
	@apply -mx-0 my-6 overflow-auto rounded-xl border p-4 text-base shadow-xs sm:p-6 sm:text-base md:-mx-10 md:my-8 md:p-8 md:text-lg lg:text-xl;
	background-color: hsl(var(--card));
	color: hsl(var(--card-foreground));
	counter-reset: sh-line-number;
}

pre code {
	@apply text-sm leading-relaxed sm:text-xs sm:leading-relaxed md:text-sm md:leading-relaxed lg:text-base;
}

/* Reset the line number counter for code inside pre elements */
pre code {
	counter-reset: sh-line-number;
}

/* Apply line numbers to code lines within pre elements */
pre code .sh__line::before {
	counter-increment: sh-line-number;
	content: counter(sh-line-number);
	margin-right: 24px;
	text-align: right;
	color: hsl(var(--muted-foreground));
}

/* Inline Code Styling */
code:not(pre code) {
	@apply rounded-sm px-3 py-0.5 text-xs font-normal;
	background-color: hsl(var(--muted));
	color: hsl(var(--muted-foreground));
}

/* Ensure inline code spans inherit styles correctly */
code:not(pre code) span {
	font-weight: inherit;
	color: inherit;
}

/* Remove default quotes added by some CSS resets or styles */
.prose
	:where(code):not(:where([class~='not-prose'], [class~='not-prose'] *)):before,
.prose
	:where(code):not(:where([class~='not-prose'], [class~='not-prose'] *)):after {
	content: none;
}

/* Custom Utilities */

/* Background Utilities */
@utility bg-background {
	background-color: hsl(var(--background));
}
@utility bg-card {
	background-color: hsl(var(--card));
}
@utility bg-popover {
	background-color: hsl(var(--popover));
}
@utility bg-primary {
	background-color: hsl(var(--primary));
}
@utility bg-secondary {
	background-color: hsl(var(--secondary));
}
@utility bg-muted {
	background-color: hsl(var(--muted));
}
@utility bg-accent {
	background-color: hsl(var(--accent));
}
@utility bg-destructive {
	background-color: hsl(var(--destructive));
}
@utility bg-input {
	background-color: hsl(var(--input));
}
@utility bg-chart-1 {
	background-color: hsl(var(--chart-1));
}
@utility bg-chart-2 {
	background-color: hsl(var(--chart-2));
}
@utility bg-chart-3 {
	background-color: hsl(var(--chart-3));
}
@utility bg-chart-4 {
	background-color: hsl(var(--chart-4));
}
@utility bg-chart-5 {
	background-color: hsl(var(--chart-5));
}

/* Text Utilities */
@utility text-foreground {
	color: hsl(var(--foreground));
}
@utility text-card-foreground {
	color: hsl(var(--card-foreground));
}
@utility text-popover-foreground {
	color: hsl(var(--popover-foreground));
}
@utility text-primary-foreground {
	color: hsl(var(--primary-foreground));
}
@utility text-secondary-foreground {
	color: hsl(var(--secondary-foreground));
}
@utility text-muted-foreground {
	color: hsl(var(--muted-foreground));
}
@utility text-accent-foreground {
	color: hsl(var(--accent-foreground));
}
@utility text-destructive-foreground {
	color: hsl(var(--destructive-foreground));
}
@utility text-chart-1 {
	color: hsl(var(--chart-1));
}
@utility text-chart-2 {
	color: hsl(var(--chart-2));
}
@utility text-chart-3 {
	color: hsl(var(--chart-3));
}
@utility text-chart-4 {
	color: hsl(var(--chart-4));
}
@utility text-chart-5 {
	color: hsl(var(--chart-5));
}

/* Border Utilities */
@utility border-default {
	border-color: hsl(var(--border));
}
@utility border-primary {
	border-color: hsl(var(--primary));
}
@utility border-secondary {
	border-color: hsl(var(--secondary));
}
@utility border-muted {
	border-color: hsl(var(--muted));
}
@utility border-accent {
	border-color: hsl(var(--accent));
}
@utility border-destructive {
	border-color: hsl(var(--destructive));
}
@utility border-chart-1 {
	border-color: hsl(var(--chart-1));
}
@utility border-chart-2 {
	border-color: hsl(var(--chart-2));
}
@utility border-chart-3 {
	border-color: hsl(var(--chart-3));
}
@utility border-chart-4 {
	border-color: hsl(var(--chart-4));
}
@utility border-chart-5 {
	border-color: hsl(var(--chart-5));
}

/* Ring Utility */
@utility ring-default {
	--tw-ring-color: hsl(var(--ring));
}

/* Border Radius Utility */
@utility rounded-default {
	border-radius: var(--radius);
}

/* Outline Utilities */
@utility outline-primary {
	outline-color: hsl(var(--primary));
}
@utility outline-secondary {
	outline-color: hsl(var(--secondary));
}
@utility outline-muted {
	outline-color: hsl(var(--muted));
}
@utility outline-accent {
	outline-color: hsl(var(--accent));
}
@utility outline-destructive {
	outline-color: hsl(var(--destructive));
}

/* Fill and Stroke Utilities for SVGs */
@utility fill-primary {
	fill: hsl(var(--primary));
}
@utility fill-secondary {
	fill: hsl(var(--secondary));
}
@utility fill-muted {
	fill: hsl(var(--muted));
}
@utility fill-accent {
	fill: hsl(var(--accent));
}
@utility fill-destructive {
	fill: hsl(var(--destructive));
}
@utility stroke-primary {
	stroke: hsl(var(--primary));
}
@utility stroke-secondary {
	stroke: hsl(var(--secondary));
}
@utility stroke-muted {
	stroke: hsl(var(--muted));
}
@utility stroke-accent {
	stroke: hsl(var(--accent));
}
@utility stroke-destructive {
	stroke: hsl(var(--destructive));
}

@keyframes slide-in {
	0% {
		transform: translateY(100%);
		opacity: 0;
	}
	100% {
		transform: translateY(0);
		opacity: 1;
	}
}

@keyframes slide-out {
	0% {
		transform: translateY(0);
		opacity: 1;
	}
	100% {
		transform: translateY(-100%);
		opacity: 0;
	}
}

@layer utilities {
	.prose :where(h2, h3, h4):not(:where([class~='not-prose'] *)) {
		scroll-margin-top: 150px; /* Increased from 100px */
	}
}

@property --rotate {
	syntax: '<angle>';
	initial-value: 0deg;
	inherits: false;
}

@keyframes cycle-colors {
	0%,
	100% {
		--rotate: 0deg;
	}
	50% {
		--rotate: 180deg;
	}
}

@layer utilities {
	.focus-ring {
		@apply transition-all duration-300 outline-none;
		/* Using the --ring variable directly from @theme */
		--tw-ring-color: hsl(var(--ring));
		--tw-ring-opacity: 0.8;
	}

	.group:hover .focus-ring {
		--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0
			var(--tw-ring-offset-width) var(--tw-ring-offset-color);
		--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 4px var(--tw-ring-color);
		box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow);
	}
}
